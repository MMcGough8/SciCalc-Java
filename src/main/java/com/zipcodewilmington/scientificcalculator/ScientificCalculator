package com.zipcodewilmington.scientificcalculator;

public class ScientificCalculator {
    private static final String[] MODES = {"DEC", "HEX", "OCT", "BIN"};

    Double memvalue;
    String displayMode;
    int modeIndex;
    boolean isDegrees;


    public ScientificCalculator() {
        this.memvalue = 0.0;
        this.displayMode = "DEC";
        this.modeIndex = 0;
        this.isDegrees = false;
    }

    public void switchDisplayMode() {
        modeIndex = (modeIndex + 1) % MODES.length;
        displayMode = MODES[modeIndex];
    }

    public String getDisplayMode() {
        return displayMode;
    }

    public void switchDisplayMode(String s){
        String upper = s.toUpperCase();
        for (int i = 0; i < MODES.length; i++) {
            if (MODES[i].equals(upper)) {
                modeIndex = i;
                displayMode = MODES[i];
                return;
            }
        }
        throw new IllegalArgumentException("Err: " + s);
    }
    public Double memoryFunctions(Double currentValue, String command) {
        switch (command) {
            case "M+":
                memvalue += currentValue;
                return memvalue;
            case "M-":
                memvalue -= currentValue;
                return memvalue;
            case "MR":
                return memvalue;
            case "MC":
                memvalue = 0.0;
                return null;
            default:
                throw new IllegalArgumentException("Err: " + command);
        }
    }
    public Double mrc(){
        return memvalue;
    }

    public double sine(Double x) {
        if (isDegrees) {
            x = Math.toRadians(x);
        }
        return Math.sin(x);
    }